{% extends 'base.html.twig' %}

{% block title %}{{ story.title }}{% endblock %}

{% block body %}

    <section id="story-btn">
        <div class="btn-light-night btn-night">
            <i class="fa-solid fa-moon fa-2xl icon-night"></i>
        </div>

        <div class="btn-light-night btn-light btn-hidden">
            <i class="fa-solid fa-sun fa-2xl icon-light"></i>
        </div>

        <div class="btn-up btn-hidden">
            <i class="fa-solid fa-circle-chevron-up fa-2xl icon-up"></i>
        </div>
    </section>

    <section id="story-header">
        <div class="container">
            <div class="flex-container-reverse">
                <h1>{{ story.title }}</h1>
                <img loading="lazy" class="story-img" src="/images/upload/{{ story.image }}" alt="illustration"/>
            </div>
            {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                <div class="favorite">
                    {% if story in favorite_stories %}
                        <a class="favorite-text" href="{{ path('app_story_favorite', {slug: story.slug}) }}">
                            <i class="fa-solid fa-heart"></i>
                            <span class="favorite-span"> Déjà en favoris</span>
                        </a>
                    {% else %}
                        <a class="favorite-text" href="{{ path('app_story_favorite', {slug: story.slug}) }}">
                            <i class="fa-regular fa-heart"></i>
                            <span class="favorite-span"> Mettre en favoris</span>
                        </a>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    </section>

    <section id="story-text" class="light-bg">
        <div class="container">
            <div class="story-p">{{ story.text | raw }}</div>
        </div>
    </section>

{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('story') }}
{% endblock %}
