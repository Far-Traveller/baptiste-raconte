{% set route_name = app.request.attributes.get('_route') %}

<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>Baptiste Raconte - {% block title %}{% endblock %}</title>
        <link rel="icon" type="image/png" href="{{ asset('images/logojaune.png') }}" />
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
    </head>
    <body class="d-flex flex-column min-vh-100">
        <!-- HEADER -->
        <header>
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                    <a class="navbar-brand" href="{{ path('app_homepage') }}">
                        <img src="{{ asset('images/logoblanc.png') }}" alt="Logo" class="d-inline-block align-text-top" id="navbar-logo">
                    </a>
                    <button class="navbar-toggler custom-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse ms-auto" id="navbarNavAltMarkup">
                        <div class="navbar-nav ms-auto">
                            <a {% if route_name == "app_homepage" %} class="nav-link active" {% else %} class="nav-link" {% endif %} aria-current="page" href="{{ path('app_homepage') }}">Accueil</a>
                            <a {% if route_name == "app_story" %} class="nav-link active" {% else %} class="nav-link" {% endif %} aria-current="page" href="{{ path('app_story') }}">Nouvelles</a>
                            <a {% if route_name == "app_author" %} class="nav-link active" {% else %} class="nav-link" {% endif %} aria-current="page" href="{{ path('app_author') }}">L'auteur</a>
                            <a class="nav-link" href="">Contact</a>
                            {%  if is_granted('IS_AUTHENTICATED_FULLY') %}
                                <a {% if route_name == "app_user" %} class="nav-link active" {% else %} class="nav-link" {% endif %} aria-current="page" href="{{ path('app_user') }}">Mon profil</a>
                                <a class="nav-link" href="{{ path('app_logout') }}">Déconnexion</a>
                            {% else %}
                                <a {% if route_name == "app_login" %} class="nav-link active" {% else %} class="nav-link" {% endif %} aria-current="page" href="{{ path('app_login') }}">Connexion</a>
                                <a {% if route_name == "app_register" %} class="nav-link active" {% else %} class="nav-link" {% endif %} aria-current="page" href="{{ path('app_register') }}">Inscription</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        {% block body %}{% endblock %}

        <!-- FOOTER -->
        <footer class="mt-auto">
            <!-- Social Networks & Copyright -->
            <div class="p-3">
                <div class="footer-text">
                    <p>
                        © Copyright 2022 - Baptiste Raconte
                    </p>
                </div>
                <div class="footer-icons">
                    <a href="">
                        <i class="fa-brands fa-facebook fa-xl"></i>
                    </a>
                    <a href="">
                        <i class="fa-brands fa-instagram fa-xl"></i>
                    </a>
                    <a href="">
                        <i class="fa-brands fa-twitter fa-xl"></i>
                    </a>
                </div>
            </div>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

    </body>
</html>
